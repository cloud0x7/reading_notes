《高性能MySQL》
=======================

### 作者
  施瓦茨 (Baron Schwartz) / 扎伊采夫 (Peter Zaitsev) / 特卡琴科 (Vadim Tkachenko)  
  
### 简介
> 《高性能mysql(第3版)》是mysql 领域的经典之作，拥有广泛的影响力。第3 版更新了大量的内容，不但涵盖了最新mysql 5.5版本的新特性，也讲述了关于固态盘、高可扩展性设计和云计算环境下的数据库相关的新内容，原有的基准测试和性能优化部分也做了大量的扩展和补充。全书共分为16 章和6 个附录，内容涵盖mysql 架构和历史，基准测试和性能剖析，数据库软硬件性能优化，复制、备份和恢复，高可用与高可扩展性，以及云端的mysql 和mysql相关工具等方面的内容。每一章都是相对独立的主题，读者可以有选择性地单独阅读。
《高性能mysql(第3版)》不但适合数据库管理员（dba）阅读，也适合开发人员参考学习。不管是数据库新手还是专家，相信都能从本书有所收获。


### 豆瓣链接
[豆瓣链接](https://book.douban.com/subject/23008813/)

### 目录


### 摘要
* MySQL架构
  - 存储引擎架构（功能分离）
  - 通过锁来解决并发问题（共享锁和排他锁）
  - 事务隔离级（级别越低，开销越小，支持并发越多）select @@tx_isolation;
    - read uncommitted（读取未提交）(脏读)[一个事务处理过程里读取了另一个未提交的事务中的数据]
    - read committed（读取提交）（不可重复读）[某个数据，一个事务范围内多次查询却返回了不同的数据值，这是由于在查询间隔，被另一个事务修改并提交了]
    - repeatable read（可重读）（幻读）
    - serializable（可串行化）（最高级别）
  - 死锁：两个或多个事务在同一资源上互相占用
  - 事务日志 
    - 预写式日志：先更新内存，再加入事务日志（顺序I/O，快），最后在某个时间更新到表，两次磁盘写入
  - 存储引擎
    - MyISAM
    - InnoDB
    - Memory
    - Archive
    - CSV
    - Blackhole

* 基准测试与性能分析
  - 基准测试回答系统运行的效率如何
    - 集成测试 和 单组件测试 两种策略
    - 测试指标
      - 单位时间事务处理量
      - 响应时间
      - 扩展性、并发性
    - 测试方法
    - 测试工具
      - ab, http_load, JMeter
      - mysqlslap, sysbench, Database Test Suit
  - 性能分析为什么是这种效率
    - show status、show profiles
    
* 架构优化和索引
  - 选择优化的数据类型
    - 更小、简单通常更好
    - 避免NULL
  - enum, set
  - 索引
    - 索引是在存储引擎层实现的，并不是在服务器层，它们不是标准化的，也并不是所有引擎都支持所有索引
    - 索引列顺序极端重要，对于高性能应用程序，也许要对相同列创建多个不同顺序索引
    - crc32做类哈希索引
    - 冲突多时hash64=conv(right(md5(str), 16), 16, 10)
    - 前缀索引：key(col(7)); 选择条件count(distinct str)/count(*) 接近全列索引基本就可以
    - 聚集索引(Clustered Index)不是一种单独的索引，而是一种存储数据的方式；数据和索引保存在一起
      - 使用自增ID做主键，比使用UUID(乱序聚合键)做主键，插入数据更快，索引空间更小。乱序聚合键，产生大量随机I/O；分页时移动大量数据；数据有大量碎片
    - 覆盖索引
    
* 查询性能优化
  - 优化数据访问
    - 请求了不需要的数据？
    - 检查了太多数据？（指标：执行时间、检查行数、返回行数）
    - 
    
* MySQL高级特性
* 优化服务器设置
* 操作系统和硬件优化
* 复制
* 伸缩性与高可用性
* 应用层面的优化
* 备份与还原
* 安全
* 服务器状态
* 工具